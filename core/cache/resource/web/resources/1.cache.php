<?php  return array (
  'resourceClass' => 'modDocument',
  'resource' => 
  array (
    'id' => 1,
    'type' => 'document',
    'contentType' => 'text/html',
    'pagetitle' => 'Главная',
    'longtitle' => 'Поздравляем!',
    'description' => '',
    'alias' => 'index',
    'link_attributes' => '',
    'published' => 1,
    'pub_date' => 0,
    'unpub_date' => 0,
    'parent' => 0,
    'isfolder' => 0,
    'introtext' => '',
    'content' => '',
    'richtext' => 1,
    'template' => 1,
    'menuindex' => 0,
    'searchable' => 1,
    'cacheable' => 1,
    'createdby' => 1,
    'createdon' => 1531162907,
    'editedby' => 1,
    'editedon' => 1531176602,
    'deleted' => 0,
    'deletedon' => 0,
    'deletedby' => 0,
    'publishedon' => 0,
    'publishedby' => 0,
    'menutitle' => '',
    'donthit' => 0,
    'privateweb' => 0,
    'privatemgr' => 0,
    'content_dispo' => 0,
    'hidemenu' => 0,
    'class_key' => 'modDocument',
    'context_key' => 'web',
    'content_type' => 1,
    'uri' => '',
    'uri_override' => 0,
    'hide_children_in_tree' => 0,
    'show_in_tree' => 1,
    'properties' => NULL,
    'title' => 
    array (
      0 => 'title',
      1 => 'Новая кухня по индивидуальным заказам -  Студия кухонь «М-Кит»',
      2 => 'default',
      3 => NULL,
      4 => 'text',
    ),
    'kont_img' => 
    array (
      0 => 'kont_img',
      1 => 'tpl/img/b1_bg.jpg',
      2 => 'default',
      3 => NULL,
      4 => 'image',
    ),
    '_content' => '[[!session_param]]
<!DOCTYPE html>
<html lang="ru">
<head>
	<meta charset="utf-8" />

	<title>Новая кухня по индивидуальным заказам -  Студия кухонь «М-Кит»</title>
	<meta name=\'yandex-verification\' content=\'5cbc0b7fbd826062\' />

	<link rel="shortcut icon" href="http://kuhni.m-kit.by/tpl/img/favicon.ico" />

	<link rel="stylesheet" type="text/css" href="http://kuhni.m-kit.by/tpl/css/style.css">
	<link rel="stylesheet" type="text/css" href="http://kuhni.m-kit.by/tpl/css/lightbox.css">
	<script src="http://ajax.googleapis.com/ajax/libs/jquery/2.0.3/jquery.min.js"></script>
	<script src="http://code.jquery.com/jquery-migrate-1.2.1.min.js"></script>
	<script type="text/javascript" src="http://kuhni.m-kit.by/tpl/js/script.js"></script>
</head>
<body>
	<div id="header">
		<div class="wrap">
			<div class="left">
				<ul class="nav">
					<li><a href="#b5">Наши работы</a></li>
					<li class="or"><a href="#b7">Онлайн расчет</a></li>
					<li><a href="#b2_2" class="contacts">Контакты</a></li>
				</ul>
			</div>
			<div class="center"><p>Выезд по Могилеву и<br/>в область БЕСПЛАТНО</p></div>
			<div class="right">
				<a href="tel:+375445168675">+375 (44) 516-86-75</a>
			</div>
		</div>
	</div>
	<!-- ------------------------------------------------------- -->
	<div id="b1">
		<div class="video-bg"></div>
		<div id="b1_wp">
			<h1>Стильные кухни<br/>по бюджету</h1>
			<p>Без стандартов и привязки к размерам</p>
		</div>
		<!-- 
		<div id="tz">
			<form action="">
				<input type="hidden" name="tema" value="Акция" />
				<input type="hidden" name="dob" value="Акция" />
				<h3>Внимание! С 28 по 31 июля<br/>скидка на кухню из пластика 10%!</h3>
			<p>*скидка не распространяется на рассрочку</p>
				<div class="form_line">
					<label for="name_tz">Ваше имя</label>
					<input type="text" name="name" id="name_tz" />
				</div>
				<div class="form_line">
					<label for="phone_tz">Ваш телефон</label>
					<input type="text" name="phone" id="phone_tz" />
				</div>
				<button class="b">Получить скидку!</button>
			</form>
		</div>
		-->
	</div>
	<!-- ------------------------------------------------------- -->
	<div id="b2">
		<div class="wrap">
			<h2>Начните создание своей кухни<br>с бесплатного дизайна</h2>
			<p>Выберите стартовую позицию</p>
			<div id="b2_elem_wrap">
				<div class="b2_elem" data-elem="1">
					<img src="http://kuhni.m-kit.by/tpl/img/b2_elem_1.jpg">
					<p class="zag">Замерить помещение</p>
					<h3>Только задумались<br>о новой кухне?</h3>
					<p>Еще нет размеров помещения?<br>Начните с замеров, для дальнейшей<br>работы с дизайнером.</p>
				</div>
				<div class="b2_elem current" data-elem="2">
					<img src="http://kuhni.m-kit.by/tpl/img/b2_elem_2.jpg">
					<p class="zag">Отправить запрос на<br>проектирование </p>
					<h3>Уже есть размеры<br>и план?</h3>
					<p>Отправьте данные нашим<br>дизайнерам, и получите проект<br>кухни бесплатно.</p>
				</div>
				<div class="b2_elem" data-elem="3">
					<img src="http://kuhni.m-kit.by/tpl/img/b2_elem_3.jpg">
					<p class="zag">Сравнить цены</p>
					<h3>Просто хотите<br>сравнить?</h3>
					<p>Просто пришлите проект и мы<br>произведем подробный расчет<br>Вашей кухни.</p>
				</div>
				<div class="b2_elem" data-elem="4">
					<img src="http://kuhni.m-kit.by/tpl/img/b2_elem_4.jpg">
					<p class="zag">Связаться с нами</p>
					<h3>Остались вопросы?</h3>
					<p>Пусть наша команда-экспертов<br>поможет Вам.</p>
				</div>
			</div>
		</div>
	</div>
	<!-- ------------------------------------------------------- -->
	<div id="b2_2">
		<div class="wrap">

			<div class="elem" data-elem="1">
				<div class="left">
					<h3>Первый шаг - правильный замер</h3>
					<p>Первым делам приступая к дизайну кухни важен -правильный замер.<br>
						Чтобы сделать его грамотно, прочтите нашу статью или пригласите<br>
						<span>профессионального</span> замерщика на дом.</p>
					<div class="el_wp">
						<a target="_blank" href="http://blog.m-kit.by/2016/12/24/zamer-pomeshheniya-dlya-kuxni-sovety-professionalov/" class="b"><span>Сделать замер<br>самостоятельно</span></a>
						<p>или</p>
						<a href="#" id="zamer" class="b"><span>Записаться<br>на замер<br>к профессионалам</span></a>
					</div>
					<p class="p_b_2_2">Сделали замеры? Нажмите далее:<a href="#" class="next">Далее</a></p>

				</div>
				<img src="http://kuhni.m-kit.by/tpl/img/b2_elem_2_1.jpg">
			</div>
			<!-- ------------------------------- -->
			<div class="elem current" data-elem="2">
				<div class="left">
					<h3>Получите бесплатный дизайн вашей кухни</h3>
					<p>Отправьте заявку, что бы начать работу с одним из наших<br>талантливых дизайнеров. Они предоставят Вам <span>БЕСПЛАТНЫЙ</span> 3D-проект<br>произведут расчет и помогут советами экспертов.</p>
					<div class="el_wp">
						<a target="_blank" href="http://anketa.m-kit.by"><span>Воспользоваться<br>анкетой</span></a>
						<p>или</p>
						<div>
							<a href="viber://chat?number=+375291617212">Написать в Viber</a>
							<a href="https://vk.com/im?media=&sel=-102266974">Написать в VK</a>
						</div>
					</div>
				</div>
				<div class="right"><img src="http://kuhni.m-kit.by/tpl/img/b2_elem_2_2.jpg"></div>
			</div>
			<!-- ------------------------------- -->
			<div class="elem" data-elem="3">
				<div class="">
					<h3>Уже есть проект?</h3>
					<p>Пришлите нам проект и мы произведём детальный расчет<br>
						вашей кухни. Воспользуйтесь любым из удобных способов.</p>
					<div class="el_wp">
						<a href="viber://chat?number=+375291617212">Отправить в Viber</a>
						<a href="https://vk.com/im?media=&sel=-102266974">Отправить в VK</a>
						<a href="mailto:info@m-kit.by">Отправить по E-mail</a>
					</div>
				</div>
				<p>или</p>
				<div class="">
					<h3>Еще не знаете цен?</h3>
					<p>Воспользуйтесь нашим онлайн-калькулятором</p>
					<a href="#b7" class="b_nav">Перейти к<br>калькулятору</a>

				</div>
			</div>
			<!-- ------------------------------- -->
			<div class="elem" data-elem="4">
				<div class="left">
					<h3>Мы всегда рады вам</h3>
					<p>Если у Вас есть вопросы, наши опытные специалисты с удовольствием на них ответят!</p>

					<p>Позвоните нам по тел.: <a class="tel" href="tel:+375445168675">+375 (44) <span>516-86-75</span></a></p>

					<p class="last">Не хотите ждать?</p>
					<a href="#" id="cons">Записаться на консультацию</a>
				</div>
					<img class="alt_map" src="/assets/cache_image/tpl/img/b1_bg_500x300_17f.jpg">
			</div>
			<!-- ------------------------------- -->
		</div>
	</div>
	<!-- ------------------------------------------------------- -->
		<div id="b3">
		<div class="wrap">
			<div class="left">
				<h2>Не хватает денег на хорошую кухню?</h2>
				<ul>
					<li>Рассрочка на 10 месяцев</li>
					<li>Без % и переплат</li>
					<li>Без справок о доходе</li>
				</ul>
			</div>
			<img src="http://kuhni.m-kit.by/tpl/img/smart.png" />
		</div>
	</div>
	<!-- ------------------------------------------------------- -->
	<div id="b4">
		<div class="wrap">
			<h2>О нас говорят</h2>
			<div id="b4_wp">
                <a href="/assets/gallery/2/36.jpg" data-lightbox="otz"><img src="/assets/cache_image/assets/gallery/2/36_250x450_5ae.jpg" /></a>
<a href="/assets/gallery/2/37.jpg" data-lightbox="otz"><img src="/assets/cache_image/assets/gallery/2/37_250x450_5ae.jpg" /></a>
<a href="/assets/gallery/2/38.jpg" data-lightbox="otz"><img src="/assets/cache_image/assets/gallery/2/38_250x450_5ae.jpg" /></a>
<a href="/assets/gallery/2/39.jpg" data-lightbox="otz"><img src="/assets/cache_image/assets/gallery/2/39_250x450_5ae.jpg" /></a>
			</div>
		</div>
	</div>
	<!-- ------------------------------------------------------- -->
	<div id="b5">
		<div class="wrap">
			<h2>Галерея наших клиентов</h2>
			<div id="b5_wp">
                <a href="/assets/gallery/1/1.jpg" data-lightbox="katalog"><img src="/assets/cache_image/assets/gallery/1/1_236x236_a1d.jpg" /></a>
<a href="/assets/gallery/1/2.JPG" data-lightbox="katalog"><img src="/assets/cache_image/assets/gallery/1/2_236x236_a1d.jpg" /></a>
<a href="/assets/gallery/1/3.JPG" data-lightbox="katalog"><img src="/assets/cache_image/assets/gallery/1/3_236x236_a1d.jpg" /></a>
<a href="/assets/gallery/1/4.JPG" data-lightbox="katalog"><img src="/assets/cache_image/assets/gallery/1/4_236x236_a1d.jpg" /></a>
<a href="/assets/gallery/1/5.JPG" data-lightbox="katalog"><img src="/assets/cache_image/assets/gallery/1/5_236x236_a1d.jpg" /></a>
<a href="/assets/gallery/1/6.JPG" data-lightbox="katalog"><img src="/assets/cache_image/assets/gallery/1/6_236x236_a1d.jpg" /></a>
<a href="/assets/gallery/1/7.JPG" data-lightbox="katalog"><img src="/assets/cache_image/assets/gallery/1/7_236x236_a1d.jpg" /></a>
<a href="/assets/gallery/1/8.JPG" data-lightbox="katalog"><img src="/assets/cache_image/assets/gallery/1/8_236x236_a1d.jpg" /></a>
<a href="/assets/gallery/1/9.JPG" data-lightbox="katalog"><img src="/assets/cache_image/assets/gallery/1/9_236x236_a1d.jpg" /></a>
<a href="/assets/gallery/1/10.JPG" data-lightbox="katalog"><img src="/assets/cache_image/assets/gallery/1/10_236x236_a1d.jpg" /></a>
<a href="/assets/gallery/1/11.JPG" data-lightbox="katalog"><img src="/assets/cache_image/assets/gallery/1/11_236x236_a1d.jpg" /></a>
<a href="/assets/gallery/1/12.jpg" data-lightbox="katalog"><img src="/assets/cache_image/assets/gallery/1/12_236x236_a1d.jpg" /></a>
<a href="/assets/gallery/1/13.JPG" data-lightbox="katalog"><img src="/assets/cache_image/assets/gallery/1/13_236x236_a1d.jpg" /></a>
<a href="/assets/gallery/1/14.jpg" data-lightbox="katalog"><img src="/assets/cache_image/assets/gallery/1/14_236x236_a1d.jpg" /></a>
<a href="/assets/gallery/1/15.jpg" data-lightbox="katalog"><img src="/assets/cache_image/assets/gallery/1/15_236x236_a1d.jpg" /></a>
<a href="/assets/gallery/1/16.JPG" data-lightbox="katalog"><img src="/assets/cache_image/assets/gallery/1/16_236x236_a1d.jpg" /></a>
<a href="/assets/gallery/1/17.jpg" data-lightbox="katalog"><img src="/assets/cache_image/assets/gallery/1/17_236x236_a1d.jpg" /></a>
<a href="/assets/gallery/1/18.JPG" data-lightbox="katalog"><img src="/assets/cache_image/assets/gallery/1/18_236x236_a1d.jpg" /></a>
<a href="/assets/gallery/1/19.jpg" data-lightbox="katalog"><img src="/assets/cache_image/assets/gallery/1/19_236x236_a1d.jpg" /></a>
<a href="/assets/gallery/1/20.JPG" data-lightbox="katalog"><img src="/assets/cache_image/assets/gallery/1/20_236x236_a1d.jpg" /></a>
<a href="/assets/gallery/1/21.jpg" data-lightbox="katalog"><img src="/assets/cache_image/assets/gallery/1/21_236x236_a1d.jpg" /></a>
<a href="/assets/gallery/1/22.jpg" data-lightbox="katalog"><img src="/assets/cache_image/assets/gallery/1/22_236x236_a1d.jpg" /></a>
<a href="/assets/gallery/1/23.jpg" data-lightbox="katalog"><img src="/assets/cache_image/assets/gallery/1/23_236x236_a1d.jpg" /></a>
<a href="/assets/gallery/1/24.jpg" data-lightbox="katalog"><img src="/assets/cache_image/assets/gallery/1/24_236x236_a1d.jpg" /></a>
<a href="/assets/gallery/1/25.jpg" data-lightbox="katalog"><img src="/assets/cache_image/assets/gallery/1/25_236x236_a1d.jpg" /></a>
<a href="/assets/gallery/1/27.jpg" data-lightbox="katalog"><img src="/assets/cache_image/assets/gallery/1/27_236x236_a1d.jpg" /></a>
<a href="/assets/gallery/1/26.jpg" data-lightbox="katalog"><img src="/assets/cache_image/assets/gallery/1/26_236x236_a1d.jpg" /></a>
<a href="/assets/gallery/1/28.jpg" data-lightbox="katalog"><img src="/assets/cache_image/assets/gallery/1/28_236x236_a1d.jpg" /></a>
<a href="/assets/gallery/1/29.jpg" data-lightbox="katalog"><img src="/assets/cache_image/assets/gallery/1/29_236x236_a1d.jpg" /></a>
<a href="/assets/gallery/1/30.jpg" data-lightbox="katalog"><img src="/assets/cache_image/assets/gallery/1/30_236x236_a1d.jpg" /></a>
<a href="/assets/gallery/1/31.jpg" data-lightbox="katalog"><img src="/assets/cache_image/assets/gallery/1/31_236x236_a1d.jpg" /></a>
<a href="/assets/gallery/1/32.JPG" data-lightbox="katalog"><img src="/assets/cache_image/assets/gallery/1/32_236x236_a1d.jpg" /></a>
<a href="/assets/gallery/1/33.jpg" data-lightbox="katalog"><img src="/assets/cache_image/assets/gallery/1/33_236x236_a1d.jpg" /></a>
<a href="/assets/gallery/1/34.jpg" data-lightbox="katalog"><img src="/assets/cache_image/assets/gallery/1/34_236x236_a1d.jpg" /></a>
<a href="/assets/gallery/1/35.jpg" data-lightbox="katalog"><img src="/assets/cache_image/assets/gallery/1/35_236x236_a1d.jpg" /></a>

			</div>
		</div>
	</div>
	<!-- ------------------------------------------------------- -->
	<div id="b6">
		<div class="wrap">
			<div class="left">
				<h2>Хотите больше вдохновений?</h2>
				<p>Хотите больше информации и больше советов?<br>Заходите на наш блог, пользуйтесь полезной информацией с умом!</p>
				<a href="http://blog.m-kit.by">Посетите наш<br>блог</a>
			</div>
			<img src="http://kuhni.m-kit.by/tpl/img/b6_img.jpg">
		</div>
	</div>
	<!-- ------------------------------------------------------- -->
	<div id="b7">
		<div class="wrap">
			<h2>Онлайн-калькулятор </h2>
			<div id="calc_wrap">
				<!-- -------------------- -->
				<div class="step active" data-step="1">
					<h3>Укажите тип кухни</h3>
					<ul class="o_v" data-calc="1">
						<li class="select">Прямая</li>
						<li>Угловая</li>
						<li>П-образная</li>
					</ul>
					<h3>Укажите размеры кухни</h3>
					<input type="text" name="size" class="size" placeholder="Например: 2 на 2 метра">
					<h3>Дополнительные элементы</h3>
					<ul class="m_v" data-calc="2">
						<li>Барная стойка</li>
						<li>Остров</li>
					</ul>
				</div>
				<!-- -------------------- -->
				<div class="step" data-step="2">
					<h3>Выберите материал</h3>
					<ul class="o_v" data-calc="3">
						<li>Egger (Австрия)</li>
						<li>Пластик</li>
						<li>Cleaf</li>
						<li>Alvic (Испания)</li>
						<li>Рамочный МДФ</li>
						<li>Крашенный МДФ</li>
						<li>Массив</li>
					</ul>
				</div>
				<!-- -------------------- -->
				<div class="step" data-step="3">
					<h3>Несколько вопросов по технике:<br/>Входит ли в указанный размер холодильник</h3>
					<ul class="o_v" data-calc="4">
						<li>Входит</li>
						<li>Не входит</li>
						<li>Будет встроенный холодильник</li>
					</ul>
					<h3>Входит ли в указанный размер плита</h3>
					<ul class="o_v" data-calc="5">
						<li>Входит</li>
						<li>Не входит</li>
						<li>Будет встройка</li>
					</ul>
					<h3>Какую планируете вытяжку</h3>
					<ul class="o_v" data-calc="6">
						<li>Слайдер</li>
						<li>Полная встройка</li>
						<li>Наклонная либо купол</li>
					</ul>
					<h3>Что еще из техники планируете размещать на кухне</h3>
					<ul class="m_v" data-calc="7">
						<li>Посудомойка</li>
						<li>Стиральная машина</li>
						<li>Микроволновка</li>
						<li>Телевизор</li>
					</ul>
				</div>
				<!-- -------------------- -->
				<div class="step" data-step="4">
					<h3>И еще пару вопросов по кухне:<br/>Какие хотите верхние шкафы</h3>
					<ul class="o_v" data-calc="8">
						<li>Маленькие (405/575 мм)</li>
						<li>Стандартные (720 мм)</li>
						<li>Высокие (915 мм)</li>
						<li>Вообще без верхних шкафов</li>
					</ul>
					<h3>Какую фурнитуру хотите</h3>
					<ul class="o_v" data-calc="9">
						<li>GTV (стандартно входит в комплект)</li>
						<li>GTV c доводчиком </li>
						<li>BLUM с доводчиком</li>
						<li>Будем комбинировать</li>
					</ul>
					<h3>Дополнительные элементы</h3>
					<ul class="m_v" data-calc="10">
						<li>Козырек</li>
						<li>Пенал</li>
						<li>Карго</li>
						<li>Гнутые фасады</li>
						<li>Подсветка рабочей зоны</li>
					</ul>
				</div>
				<!-- -------------------- -->
			</div>
			<div id="calc_control_wrap">
				<a id="calc_prew" class="b" href="#"><span>Назад</span></a>
				<a id="calc_next" class="b" href="#"><span>Далее</span></a>
				<a id="calc_b" class="b" href="#"><span>Узнать стоимость</span></a>
			</div>
		</div>
	</div>
	<!-- ------------------------------------------------------- -->
	<footer>
		<div class="wrap">
			<p>ООО «МаркетингКит»<br>УНП: 791004047</p>
			<div class="right">
				<p>Сайт создан:</p>
				<img src="http://kuhni.m-kit.by/tpl/img/vmproject_bl.png"/>
				<p>при поддержке <a href="https://loftchain.io/">loftchain.io</a><br/>
					Тел.: <a href="tel:+375293924946">+375 (29) 392-49-46</a></p>
			</div>
		</div>
	</footer>
	<!-- ------------------------------------------------------- -->
	<div id="popup_bg"></div>
	<div id="popup">
		<div class="close"></div>
		<form action="">
			<input type="hidden" name="tema" value="Заказ звонка" />
			<input type="hidden" name="dob" value="Заказ звонка" />
			<h3>Перезвоните мне</h3>
			<div class="form_line">
				<label for="name">Ваше имя</label>
				<input type="text" name="name" id="name" />
			</div>
			<div class="form_line">
				<label for="phone">Ваш телефон</label>
				<input type="text" name="phone" id="phone" />
			</div>
			<button class="b">Заказать звонок</button>
		</form>
	</div>


	<div id="otvet_s">
		<div class="close"></div>
		<h3>Благодарим за выбор<br/>Студии кухонь «М-Кит»<br/>В ближайшее время с Вами<br/>свяжется наш специалист</h3>
	</div>
	<!-- ------------------------------------------------------- -->
	<!-- Yandex.Metrika counter -->
	<script type="text/javascript">
		(function (d, w, c) {
			(w[c] = w[c] || []).push(function() {
				try {
					w.yaCounter32319129 = new Ya.Metrika({
						id:32319129,
						clickmap:true,
						trackLinks:true,
						accurateTrackBounce:true,
						webvisor:true
					});
				} catch(e) { }
			});

			var n = d.getElementsByTagName("script")[0],
				s = d.createElement("script"),
				f = function () { n.parentNode.insertBefore(s, n); };
			s.type = "text/javascript";
			s.async = true;
			s.src = "https://mc.yandex.ru/metrika/watch.js";

			if (w.opera == "[object Opera]") {
				d.addEventListener("DOMContentLoaded", f, false);
			} else { f(); }
		})(document, window, "yandex_metrika_callbacks");
	</script>
	<noscript><div><img src="https://mc.yandex.ru/watch/32319129" style="position:absolute; left:-9999px;" alt="" /></div></noscript>
	<!-- /Yandex.Metrika counter -->

	<script type="text/javascript" src="http://kuhni.m-kit.by/tpl/js/lightbox.js"></script>
</body>
</html>',
    '_isForward' => true,
    '_sjscripts' => 
    array (
      0 => '<link rel="stylesheet" href="/assets/components/gallery/css/web.css" type="text/css" />',
    ),
    '_loadedjscripts' => 
    array (
      '/assets/components/gallery/css/web.css' => true,
    ),
  ),
  'contentType' => 
  array (
    'id' => 1,
    'name' => 'HTML',
    'description' => 'HTML content',
    'mime_type' => 'text/html',
    'file_extensions' => '.html',
    'headers' => NULL,
    'binary' => 0,
  ),
  'policyCache' => 
  array (
  ),
  'elementCache' => 
  array (
    '[[*title]]' => 'Новая кухня по индивидуальным заказам -  Студия кухонь «М-Кит»',
    '[[*kont_img:phpthumbon=`&w=500&h=300&far=1`]]' => '/assets/cache_image/tpl/img/b1_bg_500x300_17f.jpg',
    '[[Gallery? 
				&album=`otzv`
				&thumbTpl=`otz.tpl`
				&limit=`4`
				]]' => '<a href="/assets/gallery/2/36.jpg" data-lightbox="otz"><img src="/assets/cache_image/assets/gallery/2/36_250x450_5ae.jpg" /></a>
<a href="/assets/gallery/2/37.jpg" data-lightbox="otz"><img src="/assets/cache_image/assets/gallery/2/37_250x450_5ae.jpg" /></a>
<a href="/assets/gallery/2/38.jpg" data-lightbox="otz"><img src="/assets/cache_image/assets/gallery/2/38_250x450_5ae.jpg" /></a>
<a href="/assets/gallery/2/39.jpg" data-lightbox="otz"><img src="/assets/cache_image/assets/gallery/2/39_250x450_5ae.jpg" /></a>',
    '[[Gallery? 
				&album=`case`
				&thumbTpl=`nr.tpl`
				]]' => '<a href="/assets/gallery/1/1.jpg" data-lightbox="katalog"><img src="/assets/cache_image/assets/gallery/1/1_236x236_a1d.jpg" /></a>
<a href="/assets/gallery/1/2.JPG" data-lightbox="katalog"><img src="/assets/cache_image/assets/gallery/1/2_236x236_a1d.jpg" /></a>
<a href="/assets/gallery/1/3.JPG" data-lightbox="katalog"><img src="/assets/cache_image/assets/gallery/1/3_236x236_a1d.jpg" /></a>
<a href="/assets/gallery/1/4.JPG" data-lightbox="katalog"><img src="/assets/cache_image/assets/gallery/1/4_236x236_a1d.jpg" /></a>
<a href="/assets/gallery/1/5.JPG" data-lightbox="katalog"><img src="/assets/cache_image/assets/gallery/1/5_236x236_a1d.jpg" /></a>
<a href="/assets/gallery/1/6.JPG" data-lightbox="katalog"><img src="/assets/cache_image/assets/gallery/1/6_236x236_a1d.jpg" /></a>
<a href="/assets/gallery/1/7.JPG" data-lightbox="katalog"><img src="/assets/cache_image/assets/gallery/1/7_236x236_a1d.jpg" /></a>
<a href="/assets/gallery/1/8.JPG" data-lightbox="katalog"><img src="/assets/cache_image/assets/gallery/1/8_236x236_a1d.jpg" /></a>
<a href="/assets/gallery/1/9.JPG" data-lightbox="katalog"><img src="/assets/cache_image/assets/gallery/1/9_236x236_a1d.jpg" /></a>
<a href="/assets/gallery/1/10.JPG" data-lightbox="katalog"><img src="/assets/cache_image/assets/gallery/1/10_236x236_a1d.jpg" /></a>
<a href="/assets/gallery/1/11.JPG" data-lightbox="katalog"><img src="/assets/cache_image/assets/gallery/1/11_236x236_a1d.jpg" /></a>
<a href="/assets/gallery/1/12.jpg" data-lightbox="katalog"><img src="/assets/cache_image/assets/gallery/1/12_236x236_a1d.jpg" /></a>
<a href="/assets/gallery/1/13.JPG" data-lightbox="katalog"><img src="/assets/cache_image/assets/gallery/1/13_236x236_a1d.jpg" /></a>
<a href="/assets/gallery/1/14.jpg" data-lightbox="katalog"><img src="/assets/cache_image/assets/gallery/1/14_236x236_a1d.jpg" /></a>
<a href="/assets/gallery/1/15.jpg" data-lightbox="katalog"><img src="/assets/cache_image/assets/gallery/1/15_236x236_a1d.jpg" /></a>
<a href="/assets/gallery/1/16.JPG" data-lightbox="katalog"><img src="/assets/cache_image/assets/gallery/1/16_236x236_a1d.jpg" /></a>
<a href="/assets/gallery/1/17.jpg" data-lightbox="katalog"><img src="/assets/cache_image/assets/gallery/1/17_236x236_a1d.jpg" /></a>
<a href="/assets/gallery/1/18.JPG" data-lightbox="katalog"><img src="/assets/cache_image/assets/gallery/1/18_236x236_a1d.jpg" /></a>
<a href="/assets/gallery/1/19.jpg" data-lightbox="katalog"><img src="/assets/cache_image/assets/gallery/1/19_236x236_a1d.jpg" /></a>
<a href="/assets/gallery/1/20.JPG" data-lightbox="katalog"><img src="/assets/cache_image/assets/gallery/1/20_236x236_a1d.jpg" /></a>
<a href="/assets/gallery/1/21.jpg" data-lightbox="katalog"><img src="/assets/cache_image/assets/gallery/1/21_236x236_a1d.jpg" /></a>
<a href="/assets/gallery/1/22.jpg" data-lightbox="katalog"><img src="/assets/cache_image/assets/gallery/1/22_236x236_a1d.jpg" /></a>
<a href="/assets/gallery/1/23.jpg" data-lightbox="katalog"><img src="/assets/cache_image/assets/gallery/1/23_236x236_a1d.jpg" /></a>
<a href="/assets/gallery/1/24.jpg" data-lightbox="katalog"><img src="/assets/cache_image/assets/gallery/1/24_236x236_a1d.jpg" /></a>
<a href="/assets/gallery/1/25.jpg" data-lightbox="katalog"><img src="/assets/cache_image/assets/gallery/1/25_236x236_a1d.jpg" /></a>
<a href="/assets/gallery/1/27.jpg" data-lightbox="katalog"><img src="/assets/cache_image/assets/gallery/1/27_236x236_a1d.jpg" /></a>
<a href="/assets/gallery/1/26.jpg" data-lightbox="katalog"><img src="/assets/cache_image/assets/gallery/1/26_236x236_a1d.jpg" /></a>
<a href="/assets/gallery/1/28.jpg" data-lightbox="katalog"><img src="/assets/cache_image/assets/gallery/1/28_236x236_a1d.jpg" /></a>
<a href="/assets/gallery/1/29.jpg" data-lightbox="katalog"><img src="/assets/cache_image/assets/gallery/1/29_236x236_a1d.jpg" /></a>
<a href="/assets/gallery/1/30.jpg" data-lightbox="katalog"><img src="/assets/cache_image/assets/gallery/1/30_236x236_a1d.jpg" /></a>
<a href="/assets/gallery/1/31.jpg" data-lightbox="katalog"><img src="/assets/cache_image/assets/gallery/1/31_236x236_a1d.jpg" /></a>
<a href="/assets/gallery/1/32.JPG" data-lightbox="katalog"><img src="/assets/cache_image/assets/gallery/1/32_236x236_a1d.jpg" /></a>
<a href="/assets/gallery/1/33.jpg" data-lightbox="katalog"><img src="/assets/cache_image/assets/gallery/1/33_236x236_a1d.jpg" /></a>
<a href="/assets/gallery/1/34.jpg" data-lightbox="katalog"><img src="/assets/cache_image/assets/gallery/1/34_236x236_a1d.jpg" /></a>
<a href="/assets/gallery/1/35.jpg" data-lightbox="katalog"><img src="/assets/cache_image/assets/gallery/1/35_236x236_a1d.jpg" /></a>',
  ),
  'sourceCache' => 
  array (
    'modChunk' => 
    array (
    ),
    'modSnippet' => 
    array (
      'phpthumbon' => 
      array (
        'fields' => 
        array (
          'id' => 24,
          'source' => 0,
          'property_preprocess' => false,
          'name' => 'phpthumbon',
          'description' => 'Создание превьюх картинок',
          'editor_type' => 0,
          'category' => 0,
          'cache_type' => 0,
          'snippet' => '/**
 * phpThumbOn
 * Создание превьюх картинок
 *
 * Copyright 2013 by Agel_Nash <Agel_Nash@xaker.ru>
 *
 * @category images
 * @license GNU General Public License (GPL), http://www.gnu.org/copyleft/gpl.html
 * @author Agel_Nash <Agel_Nash@xaker.ru>
 */

if(empty($modx) || !($modx instanceof modX)) return \'\';

$componentPath = (string)$modx->getOption(\'phpthumbon.core_path\', null, $modx->getOption(\'core_path\').\'components/phpthumbon/\');

if(!isset($modx->phpThumbOn)){
    $modx->phpThumbOn = $modx->getService("phpthumbon","phpThumbOn",$componentPath.\'model/phpthumbon/\', $scriptProperties);
}

if(!($flag = ($modx->phpThumbOn instanceof phpThumbOn))){
    $modx->phpThumbOn = null;
}
return $flag ? $modx->phpThumbOn->run($scriptProperties) : $modx->getOption(\'phpthumbon.noimage\', $scriptProperties);',
          'locked' => false,
          'properties' => 
          array (
            'input' => 
            array (
              'name' => 'input',
              'desc' => 'phpthumbon.input',
              'type' => 'textfield',
              'options' => 
              array (
              ),
              'value' => '',
              'lexicon' => 'phpthumbon:properties',
              'area' => '',
              'desc_trans' => 'Путь к картинке',
              'area_trans' => '',
            ),
            'options' => 
            array (
              'name' => 'options',
              'desc' => 'phpthumbon.folder',
              'type' => 'textfield',
              'options' => 
              array (
              ),
              'value' => '',
              'lexicon' => 'phpthumbon:properties',
              'area' => '',
              'desc_trans' => 'phpthumbon.folder',
              'area_trans' => '',
            ),
          ),
          'moduleguid' => '',
          'static' => false,
          'static_file' => '',
          'content' => '/**
 * phpThumbOn
 * Создание превьюх картинок
 *
 * Copyright 2013 by Agel_Nash <Agel_Nash@xaker.ru>
 *
 * @category images
 * @license GNU General Public License (GPL), http://www.gnu.org/copyleft/gpl.html
 * @author Agel_Nash <Agel_Nash@xaker.ru>
 */

if(empty($modx) || !($modx instanceof modX)) return \'\';

$componentPath = (string)$modx->getOption(\'phpthumbon.core_path\', null, $modx->getOption(\'core_path\').\'components/phpthumbon/\');

if(!isset($modx->phpThumbOn)){
    $modx->phpThumbOn = $modx->getService("phpthumbon","phpThumbOn",$componentPath.\'model/phpthumbon/\', $scriptProperties);
}

if(!($flag = ($modx->phpThumbOn instanceof phpThumbOn))){
    $modx->phpThumbOn = null;
}
return $flag ? $modx->phpThumbOn->run($scriptProperties) : $modx->getOption(\'phpthumbon.noimage\', $scriptProperties);',
        ),
        'policies' => 
        array (
          'web' => 
          array (
          ),
        ),
        'source' => 
        array (
        ),
      ),
      'Gallery' => 
      array (
        'fields' => 
        array (
          'id' => 1,
          'source' => 0,
          'property_preprocess' => false,
          'name' => 'Gallery',
          'description' => '',
          'editor_type' => 0,
          'category' => 1,
          'cache_type' => 0,
          'snippet' => '/**
 * Gallery
 *
 * Copyright 2010-2012 by Shaun McCormick <shaun@modx.com>
 *
 * Gallery is free software; you can redistribute it and/or modify it under the
 * terms of the GNU General Public License as published by the Free Software
 * Foundation; either version 2 of the License, or (at your option) any later
 * version.
 *
 * Gallery is distributed in the hope that it will be useful, but WITHOUT ANY
 * WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR
 * A PARTICULAR PURPOSE. See the GNU General Public License for more details.
 *
 * You should have received a copy of the GNU General Public License along with
 * Gallery; if not, write to the Free Software Foundation, Inc., 59 Temple
 * Place, Suite 330, Boston, MA 02111-1307 USA
 *
 * @package gallery
 */
/**
 * The main Gallery snippet.
 *
 * @var modX $modx
 * @var Gallery $gallery
 * 
 * @package gallery
 */
$gallery = $modx->getService(\'gallery\',\'Gallery\',$modx->getOption(\'gallery.core_path\',null,$modx->getOption(\'core_path\').\'components/gallery/\').\'model/gallery/\',$scriptProperties);
if (!($gallery instanceof Gallery)) return \'\';
$modx->lexicon->load(\'gallery:web\');

/* check for REQUEST vars if property set */
$imageGetParam = $modx->getOption(\'imageGetParam\',$scriptProperties,\'galItem\');
$albumRequestVar = $modx->getOption(\'albumRequestVar\',$scriptProperties,\'galAlbum\');
$tagRequestVar = $modx->getOption(\'tagRequestVar\',$scriptProperties,\'galTag\');
if ($modx->getOption(\'checkForRequestAlbumVar\',$scriptProperties,true)) {
    if (!empty($_REQUEST[$albumRequestVar])) $scriptProperties[\'album\'] = $_REQUEST[$albumRequestVar];
}
if ($modx->getOption(\'checkForRequestTagVar\',$scriptProperties,true)) {
    if (!empty($_REQUEST[$tagRequestVar])) $scriptProperties[\'tag\'] = $_REQUEST[$tagRequestVar];
}
if (empty($scriptProperties[\'album\']) && empty($scriptProperties[\'tag\'])) return \'\';

$data = $modx->call(\'galItem\',\'getList\',array(&$modx,$scriptProperties));
$totalVar = $modx->getOption(\'totalVar\', $scriptProperties, \'total\');
$modx->setPlaceholder($totalVar,$data[\'total\']);

/* load plugins */
$plugin = $modx->getOption(\'plugin\',$scriptProperties,\'\');
if (!empty($plugin)) {
    $pluginPath = $modx->getOption(\'pluginPath\',$scriptProperties,\'\');
    if (empty($pluginPath)) {
        $pluginPath = $gallery->config[\'modelPath\'].\'gallery/plugins/\';
    }
    /** @var GalleryPlugin $plugin */
    if (($className = $modx->loadClass($plugin,$pluginPath,true,true))) {
        $plugin = new $className($gallery,$scriptProperties);
        $plugin->load();
        $scriptProperties = $plugin->adjustSettings($scriptProperties);
    } else {
        return $modx->lexicon(\'gallery.plugin_err_load\',array(\'name\' => $plugin,\'path\' => $pluginPath));
    }
} else {
    if ($modx->getOption(\'useCss\',$scriptProperties,true)) {
        $modx->regClientCSS($gallery->config[\'cssUrl\'].\'web.css\');
    }
}

/* iterate */
$imageProperties = $modx->getOption(\'imageProperties\',$scriptProperties,\'\');
$imageProperties = !empty($imageProperties) ? $modx->fromJSON($imageProperties) : array();
$imageProperties = array_merge(array(
    \'w\' => (int)$modx->getOption(\'imageWidth\',$scriptProperties,500),
    \'h\' => (int)$modx->getOption(\'imageHeight\',$scriptProperties,500),
    \'zc\' => (boolean)$modx->getOption(\'imageZoomCrop\',$scriptProperties,0),
    \'far\' => (string)$modx->getOption(\'imageFar\',$scriptProperties,false),
    \'q\' => (int)$modx->getOption(\'imageQuality\',$scriptProperties,90),
),$imageProperties);

$thumbProperties = $modx->getOption(\'thumbProperties\',$scriptProperties,\'\');
$thumbProperties = !empty($thumbProperties) ? $modx->fromJSON($thumbProperties) : array();
$thumbProperties = array_merge(array(
    \'w\' => (int)$modx->getOption(\'thumbWidth\',$scriptProperties,100),
    \'h\' => (int)$modx->getOption(\'thumbHeight\',$scriptProperties,100),
    \'zc\' => (boolean)$modx->getOption(\'thumbZoomCrop\',$scriptProperties,1),
    \'far\' => (string)$modx->getOption(\'thumbFar\',$scriptProperties,\'C\'),
    \'q\' => (int)$modx->getOption(\'thumbQuality\',$scriptProperties,90),
),$thumbProperties);

$idx = 0;
$output = array();
$filesUrl = $modx->call(\'galAlbum\',\'getFilesUrl\',array(&$modx));
$filesPath = $modx->call(\'galAlbum\',\'getFilesPath\',array(&$modx));
$itemCls = $modx->getOption(\'itemCls\',$scriptProperties,\'gal-item\');
$imageAttributes = $modx->getOption(\'imageAttributes\',$scriptProperties,\'\');
$linkAttributes = $modx->getOption(\'linkAttributes\',$scriptProperties,\'\');
$linkToImage = $modx->getOption(\'linkToImage\',$scriptProperties,false);
$activeCls = $modx->getOption(\'activeCls\',$scriptProperties,\'gal-item-active\');
$highlightItem = $modx->getOption($imageGetParam,$_REQUEST,false);
$defaultThumbTpl = $modx->getOption(\'thumbTpl\',$scriptProperties,\'galItemThumb\');

/** @var galItem $item */

if (!is_array($data)) return \'\';

// prep for &thumbTpl_N
$keys = array_keys($scriptProperties);
$nthTpls = array();
foreach($keys as $key) {
    $keyBits = $gallery->explodeAndClean($key, \'_\');
    if (isset($keyBits[0]) && $keyBits[0] === \'thumbTpl\') {
        if ($i = (int) $keyBits[1]) $nthTpls[$i] = $scriptProperties[$key];
    }
}
ksort($nthTpls);

foreach ($data[\'items\'] as $item) {
    $itemArray = $item->toArray();
    $itemArray[\'idx\'] = $idx;
    $itemArray[\'cls\'] = $itemCls;
    if ($itemArray[\'id\'] == $highlightItem) {
        $itemArray[\'cls\'] .= \' \'.$activeCls;
    }
    $itemArray[\'filename\'] = basename($item->get(\'filename\'));
    $itemArray[\'image_absolute\'] = $item->get(\'base_url\').$filesUrl.$item->get(\'filename\');
    $itemArray[\'fileurl\'] = $itemArray[\'image_absolute\'];
    $itemArray[\'filepath\'] = $filesPath.$item->get(\'filename\');
    $itemArray[\'filesize\'] = $item->get(\'filesize\');
    $itemArray[\'thumbnail\'] = $item->get(\'thumbnail\',$thumbProperties);
    $itemArray[\'image\'] = $item->get(\'thumbnail\',$imageProperties);
    $itemArray[\'image_attributes\'] = $imageAttributes;
    $itemArray[\'link_attributes\'] = $linkAttributes;
    if (!empty($scriptProperties[\'album\'])) $itemArray[\'album\'] = $scriptProperties[\'album\'];
    if (!empty($scriptProperties[\'tag\'])) $itemArray[\'tag\'] = $scriptProperties[\'tag\'];
    $itemArray[\'linkToImage\'] = $linkToImage;
    $itemArray[\'url\'] = $item->get(\'url\');
    $itemArray[\'imageGetParam\'] = $imageGetParam;
    $itemArray[\'albumRequestVar\'] = $albumRequestVar;
    $itemArray[\'tagRequestVar\'] = $tagRequestVar;
    $itemArray[\'tag\'] = \'\';
    if ($plugin) {
        $plugin->renderItem($itemArray);
    }

    $thumbTpl = $defaultThumbTpl;
    if (isset($nthTpls[$idx])) {
        $thumbTpl = $nthTpls[$idx];
    } else {
        foreach ($nthTpls as $int => $tpl) {
            if ( ($idx % $int) === 0 ) $thumbTpl = $tpl;
        }
    }

    $output[] = $gallery->getChunk($thumbTpl,$itemArray);

    $idx++;
}
$output = implode("\\n",$output);

/* if set, place in a container tpl */
$containerTpl = $modx->getOption(\'containerTpl\',$scriptProperties,false);
if (!empty($containerTpl)) {
    $ct = $gallery->getChunk($containerTpl,array(
        \'thumbnails\' => $output,
        \'album_name\' => $data[\'album\'][\'name\'],
        \'album_description\' => $data[\'album\'][\'description\'],
        \'album_year\' => isset($data[\'album\'][\'year\']) ? $data[\'album\'][\'year\'] : \'\',
        \'albumRequestVar\' => $albumRequestVar,
        \'albumId\' => $data[\'album\'][\'id\'],
    ));
    if (!empty($ct)) $output = $ct;
}

/* set to placeholders or output directly */
$toPlaceholder = $modx->getOption(\'toPlaceholder\',$scriptProperties,false);
if (!empty($toPlaceholder)) {
    $modx->toPlaceholders(array(
        $toPlaceholder => $output,
        $toPlaceholder.\'.id\' => $data[\'album\'][\'id\'],
        $toPlaceholder.\'.name\' => $data[\'album\'][\'name\'],
        $toPlaceholder.\'.year\' => isset($data[\'album\'][\'year\']) ? $data[\'album\'][\'year\'] : \'\',
        $toPlaceholder.\'.description\' => $data[\'album\'][\'description\'],
        $toPlaceholder.\'.total\' => $data[\'total\'],
        $toPlaceholder.\'.next\' => $data[\'album\'][\'id\'] + 1,
        $toPlaceholder.\'.prev\' => $data[\'album\'][\'id\'] - 1,
    ));
} else {
    $placeholderPrefix = $modx->getOption(\'placeholderPrefix\',$scriptProperties,\'gallery.\');
    $modx->toPlaceholders(array(
        $placeholderPrefix.\'id\' => $data[\'album\'][\'id\'],
        $placeholderPrefix.\'name\' => $data[\'album\'][\'name\'],
        $placeholderPrefix.\'year\' => isset($data[\'album\'][\'year\']) ? $data[\'album\'][\'year\'] : \'\',
        $placeholderPrefix.\'description\' => $data[\'album\'][\'description\'],
        $placeholderPrefix.\'total\' => $data[\'total\'],
        $placeholderPrefix.\'next\' => $data[\'album\'][\'id\'] + 1,
        $placeholderPrefix.\'prev\' => $data[\'album\'][\'id\'] - 1,
    ));
    return $output;
}
return \'\';',
          'locked' => false,
          'properties' => 
          array (
            'album' => 
            array (
              'name' => 'album',
              'desc' => 'gallery.album_desc',
              'type' => 'textfield',
              'options' => '',
              'value' => '',
              'lexicon' => 'gallery:properties',
              'area' => '',
              'desc_trans' => 'Will load only items from this album. Can be either the name or ID of the Album.',
              'area_trans' => '',
            ),
            'tag' => 
            array (
              'name' => 'tag',
              'desc' => 'gallery.tag_desc',
              'type' => 'textfield',
              'options' => '',
              'value' => '',
              'lexicon' => 'gallery:properties',
              'area' => '',
              'desc_trans' => 'Will load only items with this tag.',
              'area_trans' => '',
            ),
            'plugin' => 
            array (
              'name' => 'plugin',
              'desc' => 'gallery.plugin_desc',
              'type' => 'textfield',
              'options' => '',
              'value' => '',
              'lexicon' => 'gallery:properties',
              'area' => '',
              'desc_trans' => 'The name of a plugin to use for front-end displaying. Please see the official docs for a list of available plugins.',
              'area_trans' => '',
            ),
            'pluginPath' => 
            array (
              'name' => 'pluginPath',
              'desc' => 'gallery.pluginpath_desc',
              'type' => 'textfield',
              'options' => '',
              'value' => '',
              'lexicon' => 'gallery:properties',
              'area' => '',
              'desc_trans' => 'Could not load plugin "[[+name]]" from path: [[+path]]',
              'area_trans' => '',
            ),
            'thumbTpl' => 
            array (
              'name' => 'thumbTpl',
              'desc' => 'gallery.thumbtpl_desc',
              'type' => 'textfield',
              'options' => '',
              'value' => 'galItemThumb',
              'lexicon' => 'gallery:properties',
              'area' => '',
              'desc_trans' => 'The Chunk to use as a tpl for each thumbnail.',
              'area_trans' => '',
            ),
            'containerTpl' => 
            array (
              'name' => 'containerTpl',
              'desc' => 'gallery.containertpl_desc',
              'type' => 'textfield',
              'options' => '',
              'value' => '',
              'lexicon' => 'gallery:properties',
              'area' => '',
              'desc_trans' => 'An optional chunk to wrap the output in.',
              'area_trans' => '',
            ),
            'itemCls' => 
            array (
              'name' => 'itemCls',
              'desc' => 'gallery.itemcls_desc',
              'type' => 'textfield',
              'options' => '',
              'value' => 'gal-item',
              'lexicon' => 'gallery:properties',
              'area' => '',
              'desc_trans' => 'The CSS class for each thumbnail.',
              'area_trans' => '',
            ),
            'activeCls' => 
            array (
              'name' => 'activeCls',
              'desc' => 'gallery.activecls_desc',
              'type' => 'textfield',
              'options' => '',
              'value' => 'gal-item-active',
              'lexicon' => 'gallery:properties',
              'area' => '',
              'desc_trans' => 'The CSS class to add when the active item (the item specified in the GalleryItem snippet) is displayed.',
              'area_trans' => '',
            ),
            'toPlaceholder' => 
            array (
              'name' => 'toPlaceholder',
              'desc' => 'gallery.toplaceholder_desc',
              'type' => 'textfield',
              'options' => '',
              'value' => '',
              'lexicon' => 'gallery:properties',
              'area' => '',
              'desc_trans' => 'If set, will set the output to a placeholder of this value, and the snippet call will output nothing.',
              'area_trans' => '',
            ),
            'thumbWidth' => 
            array (
              'name' => 'thumbWidth',
              'desc' => 'gallery.thumbwidth_desc',
              'type' => 'textfield',
              'options' => '',
              'value' => '100',
              'lexicon' => 'gallery:properties',
              'area' => '',
              'desc_trans' => 'The width of the generated thumbnails, in pixels.',
              'area_trans' => '',
            ),
            'thumbHeight' => 
            array (
              'name' => 'thumbHeight',
              'desc' => 'gallery.thumbheight_desc',
              'type' => 'textfield',
              'options' => '',
              'value' => '100',
              'lexicon' => 'gallery:properties',
              'area' => '',
              'desc_trans' => 'The height of the generated thumbnails, in pixels.',
              'area_trans' => '',
            ),
            'thumbZoomCrop' => 
            array (
              'name' => 'thumbZoomCrop',
              'desc' => 'gallery.thumbzoomcrop_desc',
              'type' => 'combo-boolean',
              'options' => '',
              'value' => true,
              'lexicon' => 'gallery:properties',
              'area' => '',
              'desc_trans' => 'Whether or not the thumbnail will be zoom-cropped.',
              'area_trans' => '',
            ),
            'thumbFar' => 
            array (
              'name' => 'thumbFar',
              'desc' => 'gallery.thumbfar_desc',
              'type' => 'textfield',
              'options' => '',
              'value' => 'C',
              'lexicon' => 'gallery:properties',
              'area' => '',
              'desc_trans' => 'The "far" value for phpThumb for the thumbnail, for aspect ratio zooming.',
              'area_trans' => '',
            ),
            'thumbQuality' => 
            array (
              'name' => 'thumbQuality',
              'desc' => 'gallery.thumbquality_desc',
              'type' => 'textfield',
              'options' => '',
              'value' => 90,
              'lexicon' => 'gallery:properties',
              'area' => '',
              'desc_trans' => 'The "q" value for phpThumb for the thumbnail, for quality.',
              'area_trans' => '',
            ),
            'thumbProperties' => 
            array (
              'name' => 'thumbProperties',
              'desc' => 'gallery.thumbproperties_desc',
              'type' => 'textfield',
              'options' => '',
              'value' => '',
              'lexicon' => 'gallery:properties',
              'area' => '',
              'desc_trans' => 'A JSON object of parameters to pass to phpThumb as properties for the thumbnail.',
              'area_trans' => '',
            ),
            'linkToImage' => 
            array (
              'name' => 'linkToImage',
              'desc' => 'gallery.linktoimage_desc',
              'type' => 'combo-boolean',
              'options' => '',
              'value' => '',
              'lexicon' => 'gallery:properties',
              'area' => '',
              'desc_trans' => 'If true, will link directly to the image. If false, will append GET parameters to the URL to load the image with the GalleryItem snippet.',
              'area_trans' => '',
            ),
            'imageGetParam' => 
            array (
              'name' => 'imageGetParam',
              'desc' => 'gallery.imagegetparam_desc',
              'type' => 'textfield',
              'options' => '',
              'value' => 'galItem',
              'lexicon' => 'gallery:properties',
              'area' => '',
              'desc_trans' => 'The GET param to use when not linking directly to an image. Make sure this matches the getParam property in the GalleryItem snippet call.',
              'area_trans' => '',
            ),
            'imageWidth' => 
            array (
              'name' => 'imageWidth',
              'desc' => 'gallery.imagewidth_desc',
              'type' => 'textfield',
              'options' => '',
              'value' => 500,
              'lexicon' => 'gallery:properties',
              'area' => '',
              'desc_trans' => 'If being used by a plugin, the width of the currently on-display image.',
              'area_trans' => '',
            ),
            'imageHeight' => 
            array (
              'name' => 'imageHeight',
              'desc' => 'gallery.imageheight_desc',
              'type' => 'textfield',
              'options' => '',
              'value' => 500,
              'lexicon' => 'gallery:properties',
              'area' => '',
              'desc_trans' => 'If being used by a plugin, the height of the currently on-display image.',
              'area_trans' => '',
            ),
            'imageZoomCrop' => 
            array (
              'name' => 'imageZoomCrop',
              'desc' => 'gallery.imagezoomcrop_desc',
              'type' => 'combo-boolean',
              'options' => '',
              'value' => false,
              'lexicon' => 'gallery:properties',
              'area' => '',
              'desc_trans' => 'If being used by a plugin, whether or not the currently on-display image will be zoom-cropped.',
              'area_trans' => '',
            ),
            'imageFar' => 
            array (
              'name' => 'imageFar',
              'desc' => 'gallery.imagefar_desc',
              'type' => 'textfield',
              'options' => '',
              'value' => '',
              'lexicon' => 'gallery:properties',
              'area' => '',
              'desc_trans' => 'The "far" value for phpThumb for the image, for aspect ratio zooming.',
              'area_trans' => '',
            ),
            'imageQuality' => 
            array (
              'name' => 'imageQuality',
              'desc' => 'gallery.imagequality_desc',
              'type' => 'textfield',
              'options' => '',
              'value' => 90,
              'lexicon' => 'gallery:properties',
              'area' => '',
              'desc_trans' => 'The "q" value for phpThumb for the image, for quality.',
              'area_trans' => '',
            ),
            'imageProperties' => 
            array (
              'name' => 'imageProperties',
              'desc' => 'gallery.imageproperties_desc',
              'type' => 'textfield',
              'options' => '',
              'value' => '',
              'lexicon' => 'gallery:properties',
              'area' => '',
              'desc_trans' => 'A JSON object of parameters to pass to phpThumb as properties for the image.',
              'area_trans' => '',
            ),
            'sort' => 
            array (
              'name' => 'sort',
              'desc' => 'gallery.sort_desc',
              'type' => 'textfield',
              'options' => '',
              'value' => 'rank',
              'lexicon' => 'gallery:properties',
              'area' => '',
              'desc_trans' => 'The field to sort images by.',
              'area_trans' => '',
            ),
            'dir' => 
            array (
              'name' => 'dir',
              'desc' => 'gallery.dir_desc',
              'type' => 'textfield',
              'options' => '',
              'value' => 'ASC',
              'lexicon' => 'gallery:properties',
              'area' => '',
              'desc_trans' => 'The direction to sort images by.',
              'area_trans' => '',
            ),
            'limit' => 
            array (
              'name' => 'limit',
              'desc' => 'gallery.limit_desc',
              'type' => 'textfield',
              'options' => '',
              'value' => 0,
              'lexicon' => 'gallery:properties',
              'area' => '',
              'desc_trans' => 'If set to non-zero, will only show X number of items.',
              'area_trans' => '',
            ),
            'start' => 
            array (
              'name' => 'start',
              'desc' => 'gallery.start_desc',
              'type' => 'textfield',
              'options' => '',
              'value' => 0,
              'lexicon' => 'gallery:properties',
              'area' => '',
              'desc_trans' => 'The index to start grabbing from when limiting the number of items. Similar to an SQL order by start clause.',
              'area_trans' => '',
            ),
            'showInactive' => 
            array (
              'name' => 'showInactive',
              'desc' => 'gallery.showinactive_desc',
              'type' => 'combo-boolean',
              'options' => '',
              'value' => false,
              'lexicon' => 'gallery:properties',
              'area' => '',
              'desc_trans' => 'If 1, will also display inactive images.',
              'area_trans' => '',
            ),
            'checkForRequestAlbumVar' => 
            array (
              'name' => 'checkForRequestAlbumVar',
              'desc' => 'gallery.checkforrequestalbumvar_desc',
              'type' => 'combo-boolean',
              'options' => '',
              'value' => true,
              'lexicon' => 'gallery:properties',
              'area' => '',
              'desc_trans' => 'If 1, if a REQUEST var of "album" is found, will use that as the album property for the snippet.',
              'area_trans' => '',
            ),
            'albumRequestVar' => 
            array (
              'name' => 'albumRequestVar',
              'desc' => 'gallery.albumrequestvar_desc',
              'type' => 'textfield',
              'options' => '',
              'value' => 'galAlbum',
              'lexicon' => 'gallery:properties',
              'area' => '',
              'desc_trans' => 'If checkForRequestAlbumVar is set to true, will look for a REQUEST var with this name to select the album.',
              'area_trans' => '',
            ),
            'checkForRequestTagVar' => 
            array (
              'name' => 'checkForRequestTagVar',
              'desc' => 'gallery.checkforrequesttagvar_desc',
              'type' => 'combo-boolean',
              'options' => '',
              'value' => true,
              'lexicon' => 'gallery:properties',
              'area' => '',
              'desc_trans' => 'If 1, if a REQUEST var of "tag" is found, will use that as the tag property for the snippet.',
              'area_trans' => '',
            ),
            'tagRequestVar' => 
            array (
              'name' => 'tagRequestVar',
              'desc' => 'gallery.tagrequestvar_desc',
              'type' => 'textfield',
              'options' => '',
              'value' => 'galTag',
              'lexicon' => NULL,
              'area' => '',
              'desc_trans' => 'If checkForRequestTagVar is set to true, will look for a REQUEST var with this name to select the tag.',
              'area_trans' => '',
            ),
            'useCss' => 
            array (
              'name' => 'useCss',
              'desc' => 'gallery.usecss_desc',
              'type' => 'combo-boolean',
              'options' => '',
              'value' => true,
              'lexicon' => 'gallery:properties',
              'area' => '',
              'desc_trans' => 'Whether or not to use the pre-provided CSS for the snippet.',
              'area_trans' => '',
            ),
          ),
          'moduleguid' => '',
          'static' => false,
          'static_file' => '',
          'content' => '/**
 * Gallery
 *
 * Copyright 2010-2012 by Shaun McCormick <shaun@modx.com>
 *
 * Gallery is free software; you can redistribute it and/or modify it under the
 * terms of the GNU General Public License as published by the Free Software
 * Foundation; either version 2 of the License, or (at your option) any later
 * version.
 *
 * Gallery is distributed in the hope that it will be useful, but WITHOUT ANY
 * WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR
 * A PARTICULAR PURPOSE. See the GNU General Public License for more details.
 *
 * You should have received a copy of the GNU General Public License along with
 * Gallery; if not, write to the Free Software Foundation, Inc., 59 Temple
 * Place, Suite 330, Boston, MA 02111-1307 USA
 *
 * @package gallery
 */
/**
 * The main Gallery snippet.
 *
 * @var modX $modx
 * @var Gallery $gallery
 * 
 * @package gallery
 */
$gallery = $modx->getService(\'gallery\',\'Gallery\',$modx->getOption(\'gallery.core_path\',null,$modx->getOption(\'core_path\').\'components/gallery/\').\'model/gallery/\',$scriptProperties);
if (!($gallery instanceof Gallery)) return \'\';
$modx->lexicon->load(\'gallery:web\');

/* check for REQUEST vars if property set */
$imageGetParam = $modx->getOption(\'imageGetParam\',$scriptProperties,\'galItem\');
$albumRequestVar = $modx->getOption(\'albumRequestVar\',$scriptProperties,\'galAlbum\');
$tagRequestVar = $modx->getOption(\'tagRequestVar\',$scriptProperties,\'galTag\');
if ($modx->getOption(\'checkForRequestAlbumVar\',$scriptProperties,true)) {
    if (!empty($_REQUEST[$albumRequestVar])) $scriptProperties[\'album\'] = $_REQUEST[$albumRequestVar];
}
if ($modx->getOption(\'checkForRequestTagVar\',$scriptProperties,true)) {
    if (!empty($_REQUEST[$tagRequestVar])) $scriptProperties[\'tag\'] = $_REQUEST[$tagRequestVar];
}
if (empty($scriptProperties[\'album\']) && empty($scriptProperties[\'tag\'])) return \'\';

$data = $modx->call(\'galItem\',\'getList\',array(&$modx,$scriptProperties));
$totalVar = $modx->getOption(\'totalVar\', $scriptProperties, \'total\');
$modx->setPlaceholder($totalVar,$data[\'total\']);

/* load plugins */
$plugin = $modx->getOption(\'plugin\',$scriptProperties,\'\');
if (!empty($plugin)) {
    $pluginPath = $modx->getOption(\'pluginPath\',$scriptProperties,\'\');
    if (empty($pluginPath)) {
        $pluginPath = $gallery->config[\'modelPath\'].\'gallery/plugins/\';
    }
    /** @var GalleryPlugin $plugin */
    if (($className = $modx->loadClass($plugin,$pluginPath,true,true))) {
        $plugin = new $className($gallery,$scriptProperties);
        $plugin->load();
        $scriptProperties = $plugin->adjustSettings($scriptProperties);
    } else {
        return $modx->lexicon(\'gallery.plugin_err_load\',array(\'name\' => $plugin,\'path\' => $pluginPath));
    }
} else {
    if ($modx->getOption(\'useCss\',$scriptProperties,true)) {
        $modx->regClientCSS($gallery->config[\'cssUrl\'].\'web.css\');
    }
}

/* iterate */
$imageProperties = $modx->getOption(\'imageProperties\',$scriptProperties,\'\');
$imageProperties = !empty($imageProperties) ? $modx->fromJSON($imageProperties) : array();
$imageProperties = array_merge(array(
    \'w\' => (int)$modx->getOption(\'imageWidth\',$scriptProperties,500),
    \'h\' => (int)$modx->getOption(\'imageHeight\',$scriptProperties,500),
    \'zc\' => (boolean)$modx->getOption(\'imageZoomCrop\',$scriptProperties,0),
    \'far\' => (string)$modx->getOption(\'imageFar\',$scriptProperties,false),
    \'q\' => (int)$modx->getOption(\'imageQuality\',$scriptProperties,90),
),$imageProperties);

$thumbProperties = $modx->getOption(\'thumbProperties\',$scriptProperties,\'\');
$thumbProperties = !empty($thumbProperties) ? $modx->fromJSON($thumbProperties) : array();
$thumbProperties = array_merge(array(
    \'w\' => (int)$modx->getOption(\'thumbWidth\',$scriptProperties,100),
    \'h\' => (int)$modx->getOption(\'thumbHeight\',$scriptProperties,100),
    \'zc\' => (boolean)$modx->getOption(\'thumbZoomCrop\',$scriptProperties,1),
    \'far\' => (string)$modx->getOption(\'thumbFar\',$scriptProperties,\'C\'),
    \'q\' => (int)$modx->getOption(\'thumbQuality\',$scriptProperties,90),
),$thumbProperties);

$idx = 0;
$output = array();
$filesUrl = $modx->call(\'galAlbum\',\'getFilesUrl\',array(&$modx));
$filesPath = $modx->call(\'galAlbum\',\'getFilesPath\',array(&$modx));
$itemCls = $modx->getOption(\'itemCls\',$scriptProperties,\'gal-item\');
$imageAttributes = $modx->getOption(\'imageAttributes\',$scriptProperties,\'\');
$linkAttributes = $modx->getOption(\'linkAttributes\',$scriptProperties,\'\');
$linkToImage = $modx->getOption(\'linkToImage\',$scriptProperties,false);
$activeCls = $modx->getOption(\'activeCls\',$scriptProperties,\'gal-item-active\');
$highlightItem = $modx->getOption($imageGetParam,$_REQUEST,false);
$defaultThumbTpl = $modx->getOption(\'thumbTpl\',$scriptProperties,\'galItemThumb\');

/** @var galItem $item */

if (!is_array($data)) return \'\';

// prep for &thumbTpl_N
$keys = array_keys($scriptProperties);
$nthTpls = array();
foreach($keys as $key) {
    $keyBits = $gallery->explodeAndClean($key, \'_\');
    if (isset($keyBits[0]) && $keyBits[0] === \'thumbTpl\') {
        if ($i = (int) $keyBits[1]) $nthTpls[$i] = $scriptProperties[$key];
    }
}
ksort($nthTpls);

foreach ($data[\'items\'] as $item) {
    $itemArray = $item->toArray();
    $itemArray[\'idx\'] = $idx;
    $itemArray[\'cls\'] = $itemCls;
    if ($itemArray[\'id\'] == $highlightItem) {
        $itemArray[\'cls\'] .= \' \'.$activeCls;
    }
    $itemArray[\'filename\'] = basename($item->get(\'filename\'));
    $itemArray[\'image_absolute\'] = $item->get(\'base_url\').$filesUrl.$item->get(\'filename\');
    $itemArray[\'fileurl\'] = $itemArray[\'image_absolute\'];
    $itemArray[\'filepath\'] = $filesPath.$item->get(\'filename\');
    $itemArray[\'filesize\'] = $item->get(\'filesize\');
    $itemArray[\'thumbnail\'] = $item->get(\'thumbnail\',$thumbProperties);
    $itemArray[\'image\'] = $item->get(\'thumbnail\',$imageProperties);
    $itemArray[\'image_attributes\'] = $imageAttributes;
    $itemArray[\'link_attributes\'] = $linkAttributes;
    if (!empty($scriptProperties[\'album\'])) $itemArray[\'album\'] = $scriptProperties[\'album\'];
    if (!empty($scriptProperties[\'tag\'])) $itemArray[\'tag\'] = $scriptProperties[\'tag\'];
    $itemArray[\'linkToImage\'] = $linkToImage;
    $itemArray[\'url\'] = $item->get(\'url\');
    $itemArray[\'imageGetParam\'] = $imageGetParam;
    $itemArray[\'albumRequestVar\'] = $albumRequestVar;
    $itemArray[\'tagRequestVar\'] = $tagRequestVar;
    $itemArray[\'tag\'] = \'\';
    if ($plugin) {
        $plugin->renderItem($itemArray);
    }

    $thumbTpl = $defaultThumbTpl;
    if (isset($nthTpls[$idx])) {
        $thumbTpl = $nthTpls[$idx];
    } else {
        foreach ($nthTpls as $int => $tpl) {
            if ( ($idx % $int) === 0 ) $thumbTpl = $tpl;
        }
    }

    $output[] = $gallery->getChunk($thumbTpl,$itemArray);

    $idx++;
}
$output = implode("\\n",$output);

/* if set, place in a container tpl */
$containerTpl = $modx->getOption(\'containerTpl\',$scriptProperties,false);
if (!empty($containerTpl)) {
    $ct = $gallery->getChunk($containerTpl,array(
        \'thumbnails\' => $output,
        \'album_name\' => $data[\'album\'][\'name\'],
        \'album_description\' => $data[\'album\'][\'description\'],
        \'album_year\' => isset($data[\'album\'][\'year\']) ? $data[\'album\'][\'year\'] : \'\',
        \'albumRequestVar\' => $albumRequestVar,
        \'albumId\' => $data[\'album\'][\'id\'],
    ));
    if (!empty($ct)) $output = $ct;
}

/* set to placeholders or output directly */
$toPlaceholder = $modx->getOption(\'toPlaceholder\',$scriptProperties,false);
if (!empty($toPlaceholder)) {
    $modx->toPlaceholders(array(
        $toPlaceholder => $output,
        $toPlaceholder.\'.id\' => $data[\'album\'][\'id\'],
        $toPlaceholder.\'.name\' => $data[\'album\'][\'name\'],
        $toPlaceholder.\'.year\' => isset($data[\'album\'][\'year\']) ? $data[\'album\'][\'year\'] : \'\',
        $toPlaceholder.\'.description\' => $data[\'album\'][\'description\'],
        $toPlaceholder.\'.total\' => $data[\'total\'],
        $toPlaceholder.\'.next\' => $data[\'album\'][\'id\'] + 1,
        $toPlaceholder.\'.prev\' => $data[\'album\'][\'id\'] - 1,
    ));
} else {
    $placeholderPrefix = $modx->getOption(\'placeholderPrefix\',$scriptProperties,\'gallery.\');
    $modx->toPlaceholders(array(
        $placeholderPrefix.\'id\' => $data[\'album\'][\'id\'],
        $placeholderPrefix.\'name\' => $data[\'album\'][\'name\'],
        $placeholderPrefix.\'year\' => isset($data[\'album\'][\'year\']) ? $data[\'album\'][\'year\'] : \'\',
        $placeholderPrefix.\'description\' => $data[\'album\'][\'description\'],
        $placeholderPrefix.\'total\' => $data[\'total\'],
        $placeholderPrefix.\'next\' => $data[\'album\'][\'id\'] + 1,
        $placeholderPrefix.\'prev\' => $data[\'album\'][\'id\'] - 1,
    ));
    return $output;
}
return \'\';',
        ),
        'policies' => 
        array (
          'web' => 
          array (
          ),
        ),
        'source' => 
        array (
        ),
      ),
      'session_param' => 
      array (
        'fields' => 
        array (
          'id' => 25,
          'source' => 1,
          'property_preprocess' => false,
          'name' => 'session_param',
          'description' => '',
          'editor_type' => 0,
          'category' => 0,
          'cache_type' => 0,
          'snippet' => 'session_start();
if (!$_SERVER[\'QUERY_STRING\'] == NULL)
{
	$_SESSION[\'UTM\']=$_SERVER[\'QUERY_STRING\'];
	$_SESSION[\'city\']=$_GET[\'utm_city\'];
	header("Location: /");
}
return;',
          'locked' => false,
          'properties' => 
          array (
          ),
          'moduleguid' => '',
          'static' => false,
          'static_file' => '',
          'content' => 'session_start();
if (!$_SERVER[\'QUERY_STRING\'] == NULL)
{
	$_SESSION[\'UTM\']=$_SERVER[\'QUERY_STRING\'];
	$_SESSION[\'city\']=$_GET[\'utm_city\'];
	header("Location: /");
}
return;',
        ),
        'policies' => 
        array (
          'web' => 
          array (
          ),
        ),
        'source' => 
        array (
          'id' => 1,
          'name' => 'Filesystem',
          'description' => '',
          'class_key' => 'sources.modFileMediaSource',
          'properties' => 
          array (
          ),
          'is_stream' => true,
        ),
      ),
    ),
    'modTemplateVar' => 
    array (
      'title' => 
      array (
        'fields' => 
        array (
          'id' => 1,
          'source' => 1,
          'property_preprocess' => false,
          'type' => 'text',
          'name' => 'title',
          'caption' => 'Заголвок окна браузера',
          'description' => '',
          'editor_type' => 0,
          'category' => 0,
          'locked' => false,
          'elements' => '',
          'rank' => 0,
          'display' => 'default',
          'default_text' => '',
          'properties' => 
          array (
          ),
          'input_properties' => 
          array (
            'allowBlank' => 'true',
            'minLength' => '',
            'maxLength' => '',
            'regex' => '',
            'regexText' => '',
          ),
          'output_properties' => 
          array (
          ),
          'static' => false,
          'static_file' => '',
          'content' => '',
        ),
        'policies' => 
        array (
          'web' => 
          array (
          ),
        ),
        'source' => 
        array (
          'id' => 1,
          'name' => 'Filesystem',
          'description' => '',
          'class_key' => 'sources.modFileMediaSource',
          'properties' => 
          array (
          ),
          'is_stream' => true,
        ),
      ),
      'kont_img' => 
      array (
        'fields' => 
        array (
          'id' => 2,
          'source' => 1,
          'property_preprocess' => false,
          'type' => 'image',
          'name' => 'kont_img',
          'caption' => 'Изображение в контактах',
          'description' => '',
          'editor_type' => 0,
          'category' => 0,
          'locked' => false,
          'elements' => '',
          'rank' => 0,
          'display' => 'default',
          'default_text' => '',
          'properties' => 
          array (
          ),
          'input_properties' => 
          array (
          ),
          'output_properties' => 
          array (
          ),
          'static' => false,
          'static_file' => '',
          'content' => '',
        ),
        'policies' => 
        array (
          'web' => 
          array (
          ),
        ),
        'source' => 
        array (
          'id' => 1,
          'name' => 'Filesystem',
          'description' => '',
          'class_key' => 'sources.modFileMediaSource',
          'properties' => 
          array (
          ),
          'is_stream' => true,
        ),
      ),
    ),
  ),
);